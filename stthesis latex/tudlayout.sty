% Additional support package for the stthesis class. This package provides a layout which is based
% on the corporate design classes from the Technische Universit√§t Dresden.
% This package can only be used if the stthesis class is used as documentclass!
% Implementation originally provided by Julia Schroeter.
%
%
% HISTORY
% -------
% 
% [2011-05-04]
%		* converted titlepage from Julia Schroeter to package which can be used for setting TUD layout
%		* integration of language independent strings from stthesis class
%		* integration of ST logo in titlepage header
%		* integration of birthdate and -place
%
\newcommand{\tudlayout}{tudlayout}
\ProvidesPackage{\tudlayout}[2011/05/04 \tudlayout{} package in addition to the \stthesis{} class for a TUD based layout with TUD fonts]

\newif\if@titlepageonly\@titlepageonlyfalse
\DeclareOption{titlepageonly}{\@titlepageonlytrue}
\ProcessOptions

\RequirePackage{tabularx,graphicx}
\RequirePackage[utf8]{inputenc}

% Schriftspezifische Definitionen
\DeclareFixedFont{\univLightObliqueIX}{OT1}{aun}{l}{sl}{9}
\DeclareFixedFont{\univLightIX}{OT1}{aun}{l}{n}{9}
\DeclareFixedFont{\univBoldIX}{OT1}{aun}{b}{n}{9}
\DeclareFixedFont{\univLightXI}{OT1}{aun}{l}{n}{11}
\DeclareFixedFont{\univLightObliqueXI}{OT1}{aun}{l}{sl}{11}
\DeclareFixedFont{\univBoldXI}{OT1}{aun}{b}{n}{11}
\DeclareFixedFont{\univLightVII}{OT1}{aun}{l}{n}{7}
\DeclareFixedFont{\univLightObliqueVII}{OT1}{aun}{l}{sl}{7}
%
\newcommand{\dinBold}{\fontencoding{OT1}\fontfamily{din}\fontseries{b}\selectfont}
\newcommand{\dinBoldXVI}{\fontencoding{OT1}\fontfamily{din}\fontseries{b}\fontsize{16pt}{19.2pt}\selectfont}
%
\if@titlepageonly
\else
	\renewcommand*{\encodingdefault}{OT1}
	\renewcommand*{\familydefault}{aun}
	\renewcommand*{\bfseries}{\fontseries{b}\selectfont}
	\renewcommand*{\seriesdefault}{m}
	\renewcommand*{\shapedefault}{n}
	\renewcommand*{\sfdefault}{aun}
	\renewcommand*{\sffamily}{\fontfamily{aun}\selectfont}
	\renewcommand*{\ttfamily}{\fontfamily{\ttdefault}\fontseries{\mddefault}\selectfont}
	\newcommand*{\dinfamily}{\fontencoding{OT1}\fontfamily{din}\fontseries{b}\selectfont}
	
	\DeclareRobustCommand\dinfamily{\not@math@alphabet\sffamily\mathsf\fontfamily\dindefault\selectfont}
\fi


\gdef\maketitle{%
	\begin{titlepage}

	\begin{flushleft}
	\begin{tabularx}{\textwidth}{m{2cm}Xm{2cm}}
	\includegraphics[height=1.25cm]{tu_logo} & &
	\includegraphics[height=2cm]{STgroupLogo} \\
	\end{tabularx}
	\end{flushleft}
	
	\vspace{-5mm}

	\begin{tabularx}{\textwidth}{@{}p{8mm}X}
	\hline
	  & \univBoldIX{Fakult{\"a}t Informatik} 
	    \univLightIX{Institut f{\"u}r Software- und Multimediatechnik,}
	    \univLightIX{Lehrstuhl f{\"u}r Softwaretechnologie} \\
	\hline
	\end{tabularx}

	\vspace{30mm}


	 \begin{tabularx}{\textwidth}{@{}p{8mm}X}
	  & {\univLightXI \@type} \\
	  & \\
	  & \LARGE\dinBoldXVI{\MakeUppercase{\@title}}  \\
	  & \\

	  & \univLightIX\s@authored \\
	  & \univLightXI\@author \\
	  & \univLightIX\s@born{\@birthday}{\@birthplace} \\

	 \end{tabularx}

	\vfill

	 \begin{tabularx}{\textwidth}{@{}p{8mm}X}

	  & \\
	  & \univLightIX\s@supervisor: \\
	  & \univLightXI\@supervisor \\
	  & \\
	  & \univLightIX\s@hsl: \\
	  & \univLightXI\@hsl \\
	  & \\
	  & \univLightIX\s@submitted{} \@date \\
	 \end{tabularx}

	\hypersetup{
		pdftitle={\@title},
		pdfauthor={\@author},
		pdfsubject={\@type}
	}
	\end{titlepage}
}